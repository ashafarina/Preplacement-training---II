def maxProduct(nums):
    res=mx=mn=nums[0]
    for n in nums[1:]:
        mx,mn=max(n,mx*n,mn*n),min(n,mx*n,mn*n)
        res=max(res,mx)
    return res
