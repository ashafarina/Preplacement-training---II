def lowestCommonAncestor(root, p, q):
    if not root or root==p or root==q:
        return root
    l = lowestCommonAncestor(root.left,p,q)
    r = lowestCommonAncestor(root.right,p,q)
    return root if l and r else l or r
